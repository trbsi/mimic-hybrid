<ion-header>
    <ion-navbar>
        <ion-title>Add Mimic</ion-title>
    </ion-navbar>
</ion-header>

<ion-content class="forms-examples-content">
    <div class="forms-wrapper">
        <div class="post-example-view"> 
            <form class="sample-form post-form" [formGroup]="post_form" (ngSubmit)="createPost()">
                <section class="form-section">
                    <ion-item>
                        <ion-input type="text" placeholder="Title: e.g. Krabby Patty"
                                   formControlName="title"></ion-input>
                    </ion-item>
                    <button *ngIf="!selected_image" ion-button block large class="upload-image-button"
                            (click)="openImagePicker()">
                        <ion-icon name="camera"></ion-icon>
                        <h3 class="button-title">{{'UPLOAD_AN_IMAGE' | translate}}</h3>
                    </button>
                    <preload-image *ngIf="selected_image" [ratio]="{w:1, h:1}" [src]="selected_image"
                                   alt="this is the image" title="IMAGE!"></preload-image>
                </section>
                <ion-item>
                    <ion-textarea rows="7" placeholder="Write a description or something..."
                                  formControlName="description"></ion-textarea>
                </ion-item>
                <section class="form-section">
                    <button ion-button block icon-right class="choose-category-button" (click)="chooseCategory()">
                        {{'CHOOSE_CATEGORY' | translate}}
                        <ion-icon name="add"></ion-icon>
                    </button>
                </section>
                <h2 class="section-title">{{'SERVES_TIMES_TEMPS' | translate}}</h2>
                <ion-item class="counter-item">
                    <span class="counter-label">{{'SERVINGS' | translate}}</span>
                    <counter-input formControlName="servings"></counter-input>
                </ion-item>
                <ion-item class="time-item">
                    <ion-label>{{'TIME' | translate}}</ion-label>
                    <ion-datetime formControlName="time" displayFormat="h:mm" pickerFormat="h mm"></ion-datetime>
                </ion-item>
                <ion-item class="range-item">
                    <ion-label>
                        <h2 class="range-label">{{'TEMPERATURE' | translate}}</h2>

                        <h3 class="range-value">{{post_form.controls.temperature.value}} &deg;C</h3>
                    </ion-label>
                    <ion-range formControlName="temperature" min="0" max="220" step="5" snaps="true"
                               pin="false"></ion-range>
                </ion-item>
                <section class="form-section">
                    <button ion-button block class="form-action-button create-post-button" type="submit"
                            [disabled]="!post_form.valid">Post!
                    </button>
                </section>
            </form>
        </div>
    </div>
</ion-content>
